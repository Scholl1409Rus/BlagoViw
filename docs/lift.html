<<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ECOHUB –•–æ–¥—ã–Ω–∫–∞ ‚Äî –í—ã–∑–æ–≤ –ª–∏—Ñ—Ç–∞</title>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Montserrat', sans-serif;
    }

    body {
      background: #f5f5f5;
      min-height: 100vh;
    }

    .container {
      max-width: 600px;
      margin: 0 auto;
      position: relative;
    }

    .cover {
      height: 35vh;
      min-height: 300px;
      background: linear-gradient(135deg, #16a34a 0%, #4ade80 40%, #22c55e 100%);
      border-radius: 0 0 30px 30px;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
      overflow: hidden;
    }

    .cover::before {
      content: '';
      position: absolute;
      top: -50%;
      right: -20%;
      width: 200px;
      height: 200px;
      background: radial-gradient(circle, rgba(255,255,255,0.1), transparent);
      border-radius: 50%;
    }

    .logo {
      text-align: center;
      color: white;
      z-index: 1;
      position: relative;
    }

    .logo .icon {
      font-size: 4rem;
      margin-bottom: 15px;
      display: block;
    }

    .logo h1 {
      font-size: 1.8rem;
      font-weight: 700;
      margin-bottom: 8px;
    }

    .logo .subtitle {
      font-size: 1rem;
      opacity: 0.9;
    }

    .back-btn {
      position: absolute;
      top: 20px;
      left: 20px;
      background: rgba(255,255,255,0.2);
      border: none;
      border-radius: 50%;
      width: 40px;
      height: 40px;
      color: white;
      font-size: 18px;
      cursor: pointer;
      transition: 0.3s;
      z-index: 10;
    }

    .back-btn:hover {
      background: rgba(255,255,255,0.3);
    }

    .form-block {
      background: white;
      border-radius: 30px 30px 0 0;
      padding: 30px 20px 120px;
      margin: -60px 15px 0;
      position: relative;
      z-index: 1;
      box-shadow: 0 -10px 30px rgba(0,0,0,0.1);
    }

    .title {
      font-size: 1.5rem;
      margin-bottom: 20px;
      text-align: center;
      font-weight: 600;
      color: #1f2937;
    }

    .building-info {
      background: #f0f9ff;
      border-radius: 12px;
      padding: 16px;
      margin-bottom: 20px;
      text-align: center;
    }

    .building-icon {
      font-size: 2rem;
      margin-bottom: 8px;
    }

    .building-text {
      font-size: 0.9rem;
      color: #0c4a6e;
      font-weight: 500;
    }

    .current-floor-display {
      background: #f0f9ff;
      border: 1px solid #0ea5e9;
      border-radius: 12px;
      padding: 16px;
      margin-bottom: 24px;
      text-align: center;
    }

    .current-label {
      font-size: 0.9rem;
      color: #0369a1;
      margin-bottom: 4px;
    }

    .current-number {
      font-size: 2rem;
      font-weight: 800;
      color: #0c4a6e;
    }

    .floor-input-group {
      display: flex;
      gap: 12px;
      margin-bottom: 16px;
    }

    .floor-input {
      flex: 1;
      padding: 14px;
      border: 2px solid #e5e7eb;
      border-radius: 12px;
      font-size: 1.1rem;
      font-weight: 600;
      text-align: center;
      transition: 0.3s;
      font-family: 'Montserrat', sans-serif;
    }

    .floor-input:focus {
      outline: none;
      border-color: #4446E1;
      box-shadow: 0 0 0 3px rgba(68, 70, 225, 0.1);
    }

    .floors-grid {
      display: grid;
      grid-template-columns: repeat(5, 1fr);
      gap: 8px;
      max-height: 200px;
      overflow-y: auto;
      margin-bottom: 20px;
      padding: 4px;
    }

    .floor-btn {
      aspect-ratio: 1;
      border: 2px solid #e5e7eb;
      border-radius: 12px;
      background: white;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      transition: 0.3s;
      color: #4b5563;
      font-family: 'Montserrat', sans-serif;
    }

    .floor-btn:hover {
      border-color: #4446E1;
      color: #4446E1;
      transform: translateY(-2px);
    }

    .floor-btn.disabled {
      opacity: 0.3;
      cursor: not-allowed;
      transform: none !important;
    }

    .floor-btn.current {
      background: #fef3c7;
      border-color: #f59e0b;
      color: #d97706;
    }

    .btn-call {
      padding: 14px 20px;
      border: none;
      border-radius: 12px;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      transition: 0.3s;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      background: #16a34a;
      color: white;
      font-family: 'Montserrat', sans-serif;
    }

    .btn-call:hover {
      background: #15803d;
      transform: translateY(-2px);
    }

    .btn-call:disabled {
      background: #d1d5db;
      cursor: not-allowed;
      transform: none;
    }

    .emergency-button {
      width: 100%;
      padding: 16px;
      border: none;
      border-radius: 12px;
      font-size: 1.1rem;
      font-weight: 600;
      cursor: pointer;
      transition: 0.3s;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      background: #dc2626;
      color: white;
      font-family: 'Montserrat', sans-serif;
    }

    .emergency-button:hover {
      background: #b91c1c;
    }

    .lift-status-card {
      background: #f8fafc;
      border: 1px solid #e2e8f0;
      border-radius: 12px;
      padding: 16px;
      margin-bottom: 20px;
      display: none;
    }

    .lift-status-card.active {
      display: block;
    }

    .status-header {
      display: flex;
      align-items: center;
      gap: 8px;
      margin-bottom: 12px;
    }

    .status-indicator {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background: #10b981;
    }

    .status-indicator.moving {
      background: #f59e0b;
      animation: pulse 1s infinite;
    }

    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.5; }
    }

    .lift-details {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 12px;
      margin-top: 12px;
    }

    .detail-item {
      text-align: center;
      padding: 8px;
      background: white;
      border-radius: 8px;
    }

    .detail-value {
      font-size: 1.2rem;
      font-weight: 700;
      color: #1f2937;
      font-family: 'Montserrat', sans-serif;
    }

    .detail-label {
      font-size: 0.8rem;
      color: #6b7280;
      margin-top: 2px;
    }

    .lift-loader {
      display: none;
      text-align: center;
      padding: 20px;
    }

    .lift-loader.active {
      display: block;
    }

    .loader-spinner {
      display: inline-block;
      width: 40px;
      height: 40px;
      border: 4px solid #f3f4f6;
      border-top: 4px solid #16a34a;
      border-radius: 50%;
      animation: spin 1s linear infinite;
      margin-bottom: 12px;
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    .popup {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: rgba(0, 0, 0, 0.5);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 1000;
      opacity: 0;
      visibility: hidden;
      transition: all 0.3s;
    }

    .popup.show {
      opacity: 1;
      visibility: visible;
    }

    .popup-content {
      background-color: #fff;
      border-radius: 24px;
      padding: 40px 30px;
      text-align: center;
      width: 90%;
      max-width: 400px;
      transform: translateY(20px);
      transition: transform 0.3s;
    }

    .popup.show .popup-content {
      transform: translateY(0);
    }

    .popup-icon {
      font-size: 4rem;
      margin-bottom: 16px;
    }

    .popup-title {
      font-size: 1.4rem;
      font-weight: 700;
      color: #1f2937;
      margin-bottom: 8px;
      font-family: 'Montserrat', sans-serif;
    }

    .popup-message {
      color: #6b7280;
      margin-bottom: 20px;
    }
  </style>
</head>
<body>
  <!-- Popup —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è -->
  <div id="alertPopup" class="popup">
    <div class="popup-content">
      <div class="popup-icon" id="alertIcon">
        <i class="fa-solid fa-info-circle"></i>
      </div>
      <div class="popup-title" id="alertTitle">–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ</div>
      <div class="popup-message" id="alertMessage">–°–æ–æ–±—â–µ–Ω–∏–µ</div>
    </div>
  </div>

  <div class="container">
    <div class="cover">
      <button class="back-btn" onclick="goBack()">
        <i class="fa-solid fa-arrow-left"></i>
      </button>
      <div class="logo">
        <i class="fa-solid fa-elevator icon"></i>
        <h1>–í—ã–∑–æ–≤ –ª–∏—Ñ—Ç–∞</h1>
        <div class="subtitle">ECOHUB –•–æ–¥—ã–Ω–∫–∞</div>
      </div>
    </div>

    <div class="form-block">
      <div class="title">–í—ã–±–µ—Ä–∏—Ç–µ —ç—Ç–∞–∂</div>
      
      <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∑–¥–∞–Ω–∏–∏ -->
      <div class="building-info">
        <div class="building-icon">üè¢</div>
        <div class="building-text">15-—ç—Ç–∞–∂–Ω–æ–µ –∑–¥–∞–Ω–∏–µ ‚Ä¢ 3 –ª–∏—Ñ—Ç–∞</div>
      </div>

      <!-- –¢–µ–∫—É—â–∏–π —ç—Ç–∞–∂ -->
      <div class="current-floor-display">
        <div class="current-label">–í—ã –Ω–∞—Ö–æ–¥–∏—Ç–µ—Å—å –Ω–∞</div>
        <div class="current-number" id="currentFloorDisplay">5</div>
      </div>

      <!-- –í–≤–æ–¥ —ç—Ç–∞–∂–∞ -->
      <div class="floor-input-group">
        <input type="number" class="floor-input" id="floorInput" placeholder="–≠—Ç–∞–∂" min="1" max="15" />
        <button class="btn-call" onclick="callLiftToInput()" id="callInputBtn">
          <i class="fa-solid fa-arrow-up"></i>
          –í—ã–∑–≤–∞—Ç—å
        </button>
      </div>

      <!-- –ë—ã—Å—Ç—Ä—ã–π –≤—ã–±–æ—Ä —ç—Ç–∞–∂–µ–π -->
      <div class="floors-grid" id="floorsGrid">
        <!-- –≠—Ç–∞–∂–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è JavaScript -->
      </div>

      <!-- –°—Ç–∞—Ç—É—Å –ª–∏—Ñ—Ç–∞ -->
      <div class="lift-status-card" id="liftStatusCard">
        <div class="status-header">
          <div class="status-indicator" id="statusIndicator"></div>
          <span id="statusMessage">–õ–∏—Ñ—Ç –¥–≤–∏–∂–µ—Ç—Å—è –∫ –≤–∞–º</span>
        </div>
        <div class="lift-details">
          <div class="detail-item">
            <div class="detail-value" id="liftCurrentFloor">8</div>
            <div class="detail-label">—ç—Ç–∞–∂</div>
          </div>
          <div class="detail-item">
            <div class="detail-value" id="estimatedTime">2:30</div>
            <div class="detail-label">–æ—Å—Ç–∞–ª–æ—Å—å</div>
          </div>
          <div class="detail-item">
            <div class="detail-value" id="liftDirection">‚Üì</div>
            <div class="detail-label">–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ</div>
          </div>
        </div>
      </div>

      <!-- –ó–∞–≥—Ä—É–∑–∫–∞ -->
      <div class="lift-loader" id="liftLoader">
        <div class="loader-spinner"></div>
        <div>–û—Ç–ø—Ä–∞–≤–ª—è–µ–º –≤—ã–∑–æ–≤...</div>
      </div>

      <!-- –≠–∫—Å—Ç—Ä–µ–Ω–Ω–∞—è –∫–Ω–æ–ø–∫–∞ -->
      <button class="emergency-button" onclick="callLiftEmergency()">
        <i class="fa-solid fa-triangle-exclamation"></i>
        –≠–∫—Å—Ç—Ä–µ–Ω–Ω–∞—è –ø–æ–º–æ—â—å
      </button>
    </div>
  </div>

  <script>
    // ‚Äî‚Äî‚Äî LIFT FUNCTIONALITY ‚Äî‚Äî‚Äî
    let liftCurrentFloor = 5; // –¢–µ–∫—É—â–∏–π —ç—Ç–∞–∂ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    let liftPosition = 12; // –¢–µ–∫—É—â–∏–π —ç—Ç–∞–∂ –ª–∏—Ñ—Ç–∞
    let isLiftMoving = false;

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
    document.addEventListener('DOMContentLoaded', function() {
      initializeLift();
    });

    function initializeLift() {
      generateFloorButtons();
      updateCurrentFloorDisplay();
      
      // –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–∏ –ª–∏—Ñ—Ç–∞
      setInterval(updateLiftPosition, 3000);
      
      // –û–±—Ä–∞–±–æ—Ç–∫–∞ Enter –≤ –ø–æ–ª–µ –≤–≤–æ–¥–∞
      const floorInput = document.getElementById('floorInput');
      if (floorInput) {
        floorInput.addEventListener('keypress', function(e) {
          if (e.key === 'Enter') {
            callLiftToInput();
          }
        });
      }
    }

    function generateFloorButtons() {
      const grid = document.getElementById('floorsGrid');
      if (!grid) return;
      
      grid.innerHTML = '';
      
      for (let i = 1; i <= 15; i++) {
        const btn = document.createElement('button');
        btn.className = 'floor-btn';
        btn.textContent = i;
        btn.onclick = () => callLiftToFloor(i);
        
        if (i === liftCurrentFloor) {
          btn.classList.add('current');
          btn.disabled = true;
        }
        
        grid.appendChild(btn);
      }
    }

    function updateCurrentFloorDisplay() {
      const display = document.getElementById('currentFloorDisplay');
      if (display) {
        display.textContent = liftCurrentFloor;
      }
    }

    function callLiftToInput() {
      const input = document.getElementById('floorInput');
      const floor = parseInt(input.value);
      
      if (!floor || floor < 1 || floor > 15) {
        showAlert('–í–≤–µ–¥–∏—Ç–µ —ç—Ç–∞–∂ –æ—Ç 1 –¥–æ 15', 'error');
        return;
      }
      
      if (floor === liftCurrentFloor) {
        showAlert('–í—ã —É–∂–µ –Ω–∞—Ö–æ–¥–∏—Ç–µ—Å—å –Ω–∞ —ç—Ç–æ–º —ç—Ç–∞–∂–µ', 'info');
        return;
      }
      
      callLiftToFloor(floor);
    }

    function callLiftToFloor(floor) {
      if (floor === liftCurrentFloor) {
        showAlert('–í—ã —É–∂–µ –Ω–∞—Ö–æ–¥–∏—Ç–µ—Å—å –Ω–∞ —ç—Ç–æ–º —ç—Ç–∞–∂–µ', 'info');
        return;
      }

      // –ü–æ–∫–∞–∑–∞—Ç—å –∑–∞–≥—Ä—É–∑–∫—É
      const loader = document.getElementById('liftLoader');
      const btn = document.getElementById('callInputBtn');
      
      if (loader) loader.classList.add('active');
      if (btn) btn.disabled = true;

      // –°–∏–º—É–ª—è—Ü–∏—è API –≤—ã–∑–æ–≤–∞
      setTimeout(() => {
        if (loader) loader.classList.remove('active');
        if (btn) btn.disabled = false;
        
        // –ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ç—É—Å –ª–∏—Ñ—Ç–∞
        startLiftMovement(floor);
        
        // –ü–æ–∫–∞–∑–∞—Ç—å —É—Å–ø–µ—à–Ω—ã–π –≤—ã–∑–æ–≤
        showAlert(`–õ–∏—Ñ—Ç –≤—ã–∑–≤–∞–Ω –Ω–∞ ${floor} —ç—Ç–∞–∂!`, 'success');
      }, 1500);
    }

    function startLiftMovement(targetFloor) {
      const statusCard = document.getElementById('liftStatusCard');
      const statusIndicator = document.getElementById('statusIndicator');
      const statusMessage = document.getElementById('statusMessage');
      
      if (statusCard) statusCard.classList.add('active');
      if (statusIndicator) statusIndicator.classList.add('moving');
      if (statusMessage) statusMessage.textContent = `–õ–∏—Ñ—Ç –¥–≤–∏–∂–µ—Ç—Å—è –Ω–∞ ${targetFloor} —ç—Ç–∞–∂`;
      
      isLiftMoving = true;
      
      // –°–∏–º—É–ª—è—Ü–∏—è –¥–≤–∏–∂–µ–Ω–∏—è –ª–∏—Ñ—Ç–∞
      const moveInterval = setInterval(() => {
        if (liftPosition < targetFloor) {
          liftPosition++;
          const dirEl = document.getElementById('liftDirection');
          if (dirEl) dirEl.textContent = '‚Üë';
        } else if (liftPosition > targetFloor) {
          liftPosition--;
          const dirEl = document.getElementById('liftDirection');
          if (dirEl) dirEl.textContent = '‚Üì';
        } else {
          // –õ–∏—Ñ—Ç –ø—Ä–∏–±—ã–ª
          clearInterval(moveInterval);
          if (statusIndicator) statusIndicator.classList.remove('moving');
          if (statusMessage) statusMessage.textContent = '–õ–∏—Ñ—Ç –ø—Ä–∏–±—ã–ª!';
          const dirEl = document.getElementById('liftDirection');
          if (dirEl) dirEl.textContent = '‚óè';
          
          // –ó–≤—É–∫–æ–≤–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
          if ('speechSynthesis' in window) {
            const utterance = new SpeechSynthesisUtterance('–õ–∏—Ñ—Ç –ø—Ä–∏–±—ã–ª');
            utterance.rate = 0.8;
            utterance.pitch = 1.2;
            speechSynthesis.speak(utterance);
          }
          
          setTimeout(() => {
            if (statusCard) statusCard.classList.remove('active');
            isLiftMoving = false;
          }, 3000);
        }
        
        const floorEl = document.getElementById('liftCurrentFloor');
        if (floorEl) floorEl.textContent = liftPosition;
        
        // –ü–æ–¥—Å—á–µ—Ç –≤—Ä–µ–º–µ–Ω–∏
        const timeLeft = Math.abs(liftPosition - targetFloor) * 5; // 5 —Å–µ–∫—É–Ω–¥ –Ω–∞ —ç—Ç–∞–∂
        const minutes = Math.floor(timeLeft / 60);
        const seconds = timeLeft % 60;
        const timeEl = document.getElementById('estimatedTime');
        if (timeEl) timeEl.textContent = `${minutes}:${seconds.toString().padStart(2, '0')}`;
        
      }, 1000);
    }

    function updateLiftPosition() {
      if (!isLiftMoving) {
        // –°–ª—É—á–∞–π–Ω–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ –ª–∏—Ñ—Ç–∞ –∫–æ–≥–¥–∞ –æ–Ω –Ω–µ –≤—ã–∑–≤–∞–Ω
        if (Math.random() > 0.7) {
          liftPosition += Math.random() > 0.5 ? 1 : -1;
          liftPosition = Math.max(1, Math.min(15, liftPosition));
        }
      }
    }

    function callLiftEmergency() {
      // –ü–æ–∫–∞–∑–∞—Ç—å –∑–∞–≥—Ä—É–∑–∫—É
      const loader = document.getElementById('liftLoader');
      if (loader) loader.classList.add('active');
      
      setTimeout(() => {
        if (loader) loader.classList.remove('active');
        showAlert('–î–∏—Å–ø–µ—Ç—á–µ—Ä –≤—ã–∑–≤–∞–Ω!\n–ü–æ–º–æ—â—å –ø—Ä–∏–±—É–¥–µ—Ç —á–µ—Ä–µ–∑ 5-10 –º–∏–Ω—É—Ç', 'emergency');
      }, 2000);
    }

    // ‚Äî‚Äî‚Äî ALERT SYSTEM ‚Äî‚Äî‚Äî
    function showAlert(message, type = 'info') {
      const popup = document.getElementById('alertPopup');
      const icon = document.getElementById('alertIcon');
      const title = document.getElementById('alertTitle');
      const msg = document.getElementById('alertMessage');
      
      let iconClass = 'fa-info-circle';
      let titleText = '–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è';
      let iconColor = '#3b82f6';
      
      if (type === 'success') {
        iconClass = 'fa-check-circle';
        titleText = '–£—Å–ø–µ—à–Ω–æ';
        iconColor = '#10b981';
      } else if (type === 'error') {
        iconClass = 'fa-exclamation-triangle';
        titleText = '–û—à–∏–±–∫–∞';
        iconColor = '#dc2626';
      } else if (type === 'emergency') {
        iconClass = 'fa-phone';
        titleText = '–≠–∫—Å—Ç—Ä–µ–Ω–Ω—ã–π –≤—ã–∑–æ–≤';
        iconColor = '#dc2626';
      }
      
      icon.innerHTML = `<i class="fa-solid ${iconClass}"></i>`;
      icon.style.color = iconColor;
      title.textContent = titleText;
      msg.textContent = message;
      
      popup.classList.add('show');
      
      setTimeout(() => {
        popup.classList.remove('show');
      }, 3000);
    }

    function goBack() {
      if (window.history.length > 1) {
        window.history.back();
      } else {
        alert('–í–æ–∑–≤—Ä–∞—Ç –∫ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ');
      }
    }
  </script>
</body>
</html>